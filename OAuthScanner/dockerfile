FROM python:3.8-slim-buster

#disable python cache files 
ENV PYTHONDONTWRITEBYTECODE=1
ENV PYTHONPATH=${PYTHONPATH}:/home/app/

#install python depedencies (requirements.txt or setup.py) 
COPY requirements.txt .
RUN pip3 install --no-cache-dir --no-compile -r requirements.txt

#copy the files of your application inside the base image workdir /home/app (main.py should be in workdir)
COPY . /home/app

ENV FLASK_APP=/home/app/scanner/app

CMD flask run